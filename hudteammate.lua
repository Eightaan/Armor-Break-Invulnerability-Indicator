local init_original = HUDTeammate.init

function HUDTeammate:init(...)
	init_original(self, ...)
	if self._main_player then
		self:_init_armor_timer()
	end
end
		
function HUDTeammate:_init_armor_timer()
    self._health_panel = self._health_panel or self._player_panel:child("radial_health_panel")
	self._armor_timer = self._health_panel:text({
		name = "armor_timer",
		text = "",
		color = Color.white,
		visible = false,
		align = "center",
		vertical = "center",
		font = tweak_data.hud.medium_font_noshadow,
		font_size = 16,
		layer = 4
	})
end
		
function HUDTeammate:update_armor_timer(t)
	if t and t > 0 and self._armor_timer then
		t = string.format("%.f", t)
		self._armor_timer:set_text(t)
		self:set_armor_timer_visibility(true)
	elseif self._armor_timer and self._armor_timer:visible() then
		self:set_armor_timer_visibility(false)
	end
end
		
function HUDTeammate:set_armor_timer_visibility(visible)
	if self._armor_timer then
		self._armor_timer:set_visible(visible)
	end
end